<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Lua Offline</title>
  
<script src="https://unpkg.com/fengari-web/dist/fengari-web.js"></script>

<style>
    body {
        background: black;
        color: white;
        font-family: monospace;
        text-align: center;
        padding: 20px;
    }

    textarea {
        width: 90%;
        height: 150px;
        font-size: 28px;
        background: #111;
        color: #0f0;
        border: 2px solid cyan;
        border-radius: 8px;
        margin-top: 40px;
    }

    button {
        margin-top: 20px;
        padding: 20px 50px;
        font-size: 40px;
        border: none;
        border-radius: 10px;
        background: cyan;
        color: black;
        cursor: pointer;
    }

    pre {
        margin-top: 30px;
        width: 90%;
        height: 250px;
        font-size: 30px;
        background: #000;
        color: #0f0;
        border: 2px solid cyan;
        border-radius: 8px;
        overflow-y: auto;
        padding: 15px;
        text-align: left;
    }
</style>
</head>

<body>

<h1 style="font-size:70px;">Simulador Lua</h1>

<textarea id="code">print("Ol√° Mundo")</textarea><br>

<button onclick="runLua()">Executar</button>

<pre id="output"></pre>

<script>
function runLua() {
    const code = document.getElementById("code").value;
    const outputEl = document.getElementById("output");
    outputEl.innerText = "";  //

    try {
      
        fengari.load(`
            print = function(...)
                local out = ""
                for i = 1, select("#", ...) do
                    out = out .. tostring(select(i, ...)) .. "\\t"
                end
                js.global:output(out)
            end
        `)();
      
        window.output = function(txt) {
            outputEl.innerText += txt + "\\n";
        };

    
        fengari.load(code)();

    } catch (e) {
        outputEl.innerText = "Erro: " + e;
    }
}
</script>

</body>
</html>
